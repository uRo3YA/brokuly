{% extends 'base.html' %}
{% load django_bootstrap5 %}
{% load static %}

{% comment %} 
ëˆ„ë¥´ë©´ ì˜†ì— ë©”ë‰´ active í´ë˜ìŠ¤ ì¶”ê°€í•˜ê²Œë” ë§Œë“œëŠ”ê±° ë¯¸ì™„ì„± 
{% endcomment %}
{% block script %}
<!-- jQuery CDN -->
<script src="https://code.jquery.com/jquery-3.6.1.slim.min.js" integrity="sha256-w8CvhFs7iHNVUtnSP0YKEg00p9Ih13rlL9zGqvLdePA=" crossorigin="anonymous"></script>
<script>

$("a").on("click", function(e){
    $("a").removeClass("active");
    $("e.target").addClass("active");
});

</script>
{% endblock script %}

{% block body %}

    <!-- íŒë§¤ì ìƒí’ˆë¬¸ì˜ -->
    <hr class="m-0" />

    <!-- í”„ë¡œí•„ -->
    <div class="bg-light">
      <div class="container pt-5 pb-4">
        <div class="row">
          <div class="col-sm-5">
            <div class="card">
              <div
                class="d-flex align-items-center mx-4 my-4"
                style="height: 136px"
              >
                <img
                  class="rounded-pill"
                  src="https://picsum.photos/1280/720"
                  alt=""
                  style="height: 80px; width: 80px"
                />
                <div>
                  <p class="mb-2 ms-4 fs-5 fw-bold">{{ request.user.name }} ë‹˜</p>
                  <div class="mb-0 ms-4">
                    <p class="mb-1">
                      {% if request.user.is_seller %}
                        íŒë§¤ì ë“±ê¸‰
                      {% else %}
                        êµ¬ë§¤ì ë“±ê¸‰
                      {% endif %}
                      <span class="text-green fw-bold">ëŒ€ì™• ë¸Œë¡œì»¬ë¦¬ğŸ¥¦</span>
                    </p>
                    <p class="mb-0">{{ request.user.email }}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-7">
            <div class="">
              <div class="d-flex">
                {% if request.user.is_seller %}
                  {% comment %} ë§í¬ ì¶”ê°€ í•´ì•¼í•¨ {% endcomment %}
                  <a 
                    type="button" 
                    class="card col-4 ms-3 ps-4 text-decoration-none text-dark"
                    href="{% url 'accounts:question_management' 'recent'%}"
                  >
                    <p class="mt-3 mb-0">ìƒí’ˆë¬¸ì˜ ></p>
                    <p class="fs-4 fw-bold text-green">{{ questions | length }}ê°œ</p>
                </a>
                  {% comment %} ë§í¬ ì¶”ê°€ í•´ì•¼í•¨ {% endcomment %}
                  <a 
                    type="button" 
                    class="card col-4 ms-3 ps-4 text-decoration-none text-dark"
                    href="{% url 'accounts:review' %}"
                  >
                    <p class="mt-3 mb-0">ì‘ì„±ëœ ë¦¬ë·° ></p>
                    <p class="fs-4 fw-bold text-green">{{ reviews | length }}ê°œ</p>
                  </a>
                  <button class="card col-4 ms-3 ps-4">
                    <p class="mt-3 mb-0 text-decoration-none text-dark">íŒ”ë¡œì›Œ</p>
                    <p class="fs-4 fw-bold  text-green">{{ request.user.following_user.all | length }}ëª…</p>
                  </button>
                {% else %}
                  <button class="card col-4 ps-4">
                    <p class="mt-3 mb-0">ì ë¦½ê¸ˆ ></p>
                    <p class="fs-4 fw-bold text-green">0ì›</p>
                  </button>
                  <button class="card col-4 ms-3 ps-4">
                    <p class="mt-3 mb-0">ì¿ í° ></p>
                    <p class="fs-4 fw-bold text-green">0ê°œ</p>
                  </button>
                  <a
                        type="button"
                         class="card col-4 ms-3 ps-4  text-decoration-none text-dark"
                         href="{% url 'accounts:followlist' %}">
                    <p class="mt-3 mb-0">íŒ”ë¡œì‰ ></p>
                    <p class="fs-4 fw-bold text-green">{{ request.user.followings.all | length }}ëª…</p>
                  </a>
                {% endif %}
              </div>
              <div>
                <div class="d-flex justify-content-between my-3">
                  {% if request.user.is_seller %}
                    <form action="{% url 'products:create' %}" method="POST" class="w-100">
                      {% csrf_token %}
                      <button class="card col-6 p-3 w-100 d-flex align-items-center">
                        <p class="fs-4 fw-bold text-green mb-0" style="margin-top: 2px;">
                          ìƒí’ˆë“±ë¡
                        </p>
                      </button>
                    </form>
                  {% else %}
                    <button class="card col-6 p-4">ì»¬ë¦¬ ê·¸ë¦° ë°•ìŠ¤ ></button>
                  {% endif %}
                  <button class="card col-6 p-4" style="margin-left: 32px">
                    ì»¬ë¦¬íŒ¨ìŠ¤ >
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- container -->
    </div>

    <hr class="my-0" />

    <!-- ë‚´ì—­ -->
    <div class="container bg-white">
      <div class="row mx-atuo mb-3 py-3">
        <!-- íƒ­ ëª©ë¡ -->
        <div class="col-2 my-5">
          <div class="list-group">
            {% if request.user.is_seller %}
            <a
                type="button"
                class="list-group-item list-group-item-action"
                href="{% url 'accounts:product_management' %}"
                 >
                ìƒí’ˆ ê´€ë¦¬
                </a>
              <button
                type="button"
                class="list-group-item list-group-item-action"
              >
                íŒë§¤ ê´€ë¦¬
              </button>
              <button
                type="button"
                class="list-group-item list-group-item-action"
              >
                í´ë ˆì„/ì •ì‚°
              </button>
              <a
                type="button"
                class="list-group-item list-group-item-action"
                href="{% url 'accounts:review' %}"
              >
                ë¦¬ë·°
              </a>
            {% else %}
            <a href="{% url 'accounts:orderlist' %}"
              type="button"
              class="list-group-item list-group-item-action"
            >
              ì£¼ë¬¸ ë‚´ì—­
            </a>
            <a
              type="button"
              class="list-group-item list-group-item-action"
              href="{% url 'accounts:wishlist' %}"
            >
              ìœ„ì‹œë¦¬ìŠ¤íŠ¸
            </a>
            <a
              type="button"
              class="list-group-item list-group-item-action"
              href="{% url 'accounts:review' %}"
            >
              ìƒí’ˆ í›„ê¸°
            </a>
            <a
              type="button"
              class="list-group-item list-group-item-action"
              href="{% url 'accounts:myquestion' %}"
            >
              ìƒí’ˆ ë¬¸ì˜
            </a>
            {% endif %}
          </div>
          <hr />
          <div class="list-group">
            <a
              type="button"
              class="list-group-item list-group-item-action border-top"
              href="{% url 'accounts:update' %}"
            >
              ê°œì¸ ì •ë³´ ìˆ˜ì •
            </a>
            <a
              type="button"
              class="list-group-item list-group-item-action border-top"
              href="{% url 'accounts:signout' %}"
            >
              ê³„ì • ì‚­ì œ
            </a>
          </div>
        </div>
        <!-- íƒ­ ë‚´ìš© -->
        {% block content %}
        {% endblock content %}
        <!-- íƒ­ ë‚´ìš©-->
      </div>
    </div>

{% endblock body %}
